ymaps.ready(init);

function init() {
    // Создаем карту с адаптивным масштабом и центровкой
    var map = new ymaps.Map("map", {
        center: [54.633191, 19.886641], // Балтийская коса (центр карты)
        zoom: 12, // Начальный уровень масштабирования
        controls: ['zoomControl', 'geolocationControl'], // Добавляем элементы управления
    });

    // Устанавливаем событие, чтобы карта корректно масштабировалась на мобильных
    map.events.add('sizechange', function () {
        var width = map.container.getClientRect().width;
        if (width <= 768) {
            map.setZoom(12); // Для мобильных устройств уменьшаем масштаб
        }
    });

    // Массив с 11 точками маршрута (можно заменить на свои координаты)
    var points = [
        [54.633191, 19.886641], // Точка 1
        [54.635000, 19.887000], // Точка 2
        [54.637000, 19.889000], // Точка 3
        [54.640000, 19.890000], // Точка 4
        [54.643000, 19.892000], // Точка 5
        [54.645000, 19.894000], // Точка 6
        [54.648000, 19.896000], // Точка 7
        [54.650000, 19.898000], // Точка 8
        [54.653000, 19.900000], // Точка 9
        [54.655000, 19.902000], // Точка 10
        [54.657000, 19.904000]  // Точка 11
    ];

    // Массив с текстами для балунов
    var texts = [
        "Точка 1: Здесь расположено одно из популярных туристических мест.",
        "Точка 2: Здесь есть интересные природные зоны для прогулок.",
        "Точка 3: Этот район известен своей архитектурой и историей.",
        "Точка 4: Место для отдыха и пикников, очень популярное среди местных жителей.",
        "Точка 5: Традиционное место для туристов, со множеством кафе и магазинов.",
        "Точка 6: Исторический памятник с интересными фактами.",
        "Точка 7: Рекреационная зона для активного отдыха.",
        "Точка 8: Уникальные природные особенности, которые стоит увидеть.",
        "Точка 9: Здесь проходят культурные мероприятия и фестивали.",
        "Точка 10: Природный парк с уникальными растениями и животными.",
        "Точка 11: Культурный центр с различными выставками и мастер-классами."
    ];

    // Создаем массив для меток
    var geoObjects = [];

    // Создаем маркеры (метки) для каждой точки маршрута
    points.forEach(function(coord, index) {
        var placemark = new ymaps.Placemark(coord, {
            balloonContent: texts[index] // Добавляем текст для балуна
        }, {
            preset: 'islands#redDotIcon', // Стандартная красная метка
        });

        geoObjects.push(placemark); // Добавляем метку в массив
        map.geoObjects.add(placemark); // Добавляем метку на карту

        // Добавляем событие на клик по метке
        placemark.events.add('click', function () {
            placemark.balloon.open(); // Открытие балуна при клике
        });
    });

    // Создаем линию, соединяющую все точки
    var polyline = new ymaps.Polyline(points, {}, {
        strokeColor: "#0000FF", // Цвет линии
        strokeWidth: 4 // Толщина линии
    });

    // Добавляем линию на карту
    map.geoObjects.add(polyline);

    // Добавляем все точки (маршрут) на карту
    map.geoObjects.add(new ymaps.GeoObjectCollection({}, geoObjects));
}
